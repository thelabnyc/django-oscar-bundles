{"version":3,"sources":["webpack://django-oscar-bundles/webpack/runtime/chunk loaded","webpack://django-oscar-bundles/./src/utils/models.ts","webpack://django-oscar-bundles/./src/utils/api.ts","webpack://django-oscar-bundles/./src/bundles/molecules/BundleGroupSearchForm.tsx","webpack://django-oscar-bundles/./src/bundles/molecules/elements/BundleGroupEditForm_MetaFields.tsx","webpack://django-oscar-bundles/./src/bundles/molecules/elements/BundleGroupEditForm_ParentProducts.tsx","webpack://django-oscar-bundles/./src/bundles/molecules/elements/BundleGroupEditForm_UserConfigurableBundles.tsx","webpack://django-oscar-bundles/./src/bundles/molecules/elements/BundleGroupEditForm_ConcreteBundles.tsx","webpack://django-oscar-bundles/./src/bundles/molecules/elements/BundleGroupEditForm_Actions.tsx","webpack://django-oscar-bundles/./src/bundles/molecules/BundleGroupEditForm.tsx","webpack://django-oscar-bundles/./src/bundles/molecules/BundleGroupTableRow.tsx","webpack://django-oscar-bundles/./src/bundles/BundleGroupTable.tsx","webpack://django-oscar-bundles/./src/bundles.tsx","webpack://django-oscar-bundles/webpack/bootstrap","webpack://django-oscar-bundles/webpack/runtime/compat get default export","webpack://django-oscar-bundles/webpack/runtime/define property getters","webpack://django-oscar-bundles/webpack/runtime/global","webpack://django-oscar-bundles/webpack/runtime/hasOwnProperty shorthand","webpack://django-oscar-bundles/webpack/runtime/make namespace object","webpack://django-oscar-bundles/webpack/runtime/jsonp chunk loading","webpack://django-oscar-bundles/webpack/startup"],"names":["deferred","result","isLeft","Error","left","join","right","nullable","type","optional","FileType","super","f","File","u","c","this","is","_tag","file","DRFSelectOption","value","display_name","DRFSelectOptions","BaseField","fieldType","required","read_only","label","help_text","IntegerField","BooleanField","DatetimeField","StringField","max_length","ChoiceField","choices","Field","DRFOptionsResponse","name","description","renders","parses","actions","GET","HEAD","OPTIONS","POST","PUT","PATCH","DELETE","Product","id","dashboard_url","product_class","title","slug","is_parent","is_child","parent","children","Products","Range","Ranges","ConcreteBundle","triggering_product","suggested_products","UserConfigurableBundle","suggested_range","quantity","BundleGroup","bundle_type","headline","image","newImage","clearImage","triggering_parents","suggested_parents","concrete_bundles","user_configurable_bundles","BundleGroups","CSRF_HEADER","getCSRFToken","fetchData","endpoint","set","listBundleGroups","resp","decode","body","listProducts","listRanges","BundleGroupSearchForm","self","className","onSubmit","e","preventDefault","htmlFor","gettext","props","searchText","onChange","currentTarget","onClick","BundleGroupMetaFields","field","fieldErrors","errors","classes","length","map","errorMsg","i","key","group","pathParts","split","fileName","target","href","checked","onClearImage","disabled","isSaving","buildFormGroupClasses","bundleType","onEdit","bundleTypeChoices","choice","buildErrors","maxLength","cols","rows","buildCurrentImage","onSelectImage","ParentProductsEditForm","products","filter","p","sort","a","b","localeCompare","extras","forEach","parentProductSelectOptions","getParentProductSelectOptions","isMulti","o","triggeringParents","includes","onSelectParent","bind","options","isDisabled","suggestedParents","helpText","ranges","quantityOptions","push","triggerParent","suggestOptions","getRangeSelectOptions","getQuantitySelectOptions","linkedRanges","rangeID","range","isClearable","onLinkedRangesChange","onLinkedRangeQuantityChange","triggerParentID","getProduct","buildBundleRows","buildParentRows","suggestParent","triggerOptions","getChildProductSelectOptions","trigger","selectValue","linkedProducts","sid","suggestion","onLinkedProductsChange","parentCombinations","triggerID","suggestionID","Object","values","combination","BundleGroupEditFormActions","onCancel","_isSelectOptionArray","opts","undefined","_isSelectOption","BundleGroupEditForm","setState","state","files","rangeIndex","option","r","onLinkedRangesQuantityChange","ids","newIDs","concat","_ids","indexOf","onSave","data","keys","tID","parseInt","tProduct","preExistingBundle","find","suggestionIDs","sID","sProduct","productID","productIdx","bundle","fillProductIdx","nextProps","BundleGroupTableRow","msgFormat","msg","interpolate","confirm","onDelete","productIDs","rangeIDs","suggestedProducts","suggestedRanges","buildProductList","buildRangeList","src","width","buildGroupActions","modalStyles","overlay","backgroundColor","zIndex","content","top","bottom","marginRight","transform","minWidth","maxWidth","maxHeight","BundleGroupTable","groups","selectedGroup","editModalOpen","isLoading","formErrors","onSearchTextChange","text","onCreate","openCreateModal","onOpenEditModal","onCloseModal","onSaveBundleGroup","req","send","_saveBundleGroupData","Promise","resolve","attach","_saveBundleGroupImage","saveBundleGroup","bundleGroupURL","loadData","err","response","onDeleteBundleGroup","loading","all","concreteBundleProductChoiceURL","userConfigurableBundleRangeChoiceURL","setBundleTypeChoices","setGroups","setProducts","setRanges","idx","builder","ref","g","add","search","gid","trim","results","getSearchResults","colSpan","contentLabel","style","isOpen","buildGroupRows","buildEditModal","elem","document","querySelector","dataset","bundlegroupApi","concreteBundleURL","concretebundleApi","concretebundleProductChoiceApi","userConfigurableBundleURL","userconfigurablebundleApi","userconfigurablebundleRangeChoiceApi","component","render","main","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","splice","n","getter","__esModule","d","definition","defineProperty","enumerable","get","globalThis","Function","window","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","678","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","__webpack_exports__"],"mappings":"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","file":"bundles.js","sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tresult = fn();\n\t\t}\n\t}\n\treturn result;\n};","import * as t from \"io-ts\";\nimport { failure } from \"io-ts/lib/PathReporter\";\nimport { Either, isLeft } from \"fp-ts/lib/Either\";\n\nexport const check = <T>(result: Either<t.Errors, T>): T => {\n    if (isLeft(result)) {\n        throw new Error(failure(result.left).join(\"\\n\"));\n    }\n    return result.right;\n};\n\nconst nullable = <RT extends t.Mixed>(type: RT) => {\n    return t.union([t.null, type]);\n};\n\nexport const optional = <RT extends t.Mixed>(type: RT) => {\n    return t.union([t.undefined, type]);\n};\n\nclass FileType extends t.Type<File> {\n    readonly _tag: \"NumberType\" = \"NumberType\";\n    constructor() {\n        super(\n            \"number\",\n            (f): f is File => {\n                return f instanceof File;\n            },\n            (u, c) => {\n                return this.is(u) ? t.success(u) : t.failure(u, c);\n            },\n            t.identity\n        );\n    }\n}\nconst file = new FileType();\n\nexport const DRFSelectOption = t.interface({\n    value: t.string,\n    display_name: t.string,\n});\nexport const DRFSelectOptions = t.readonlyArray(DRFSelectOption);\n\nexport const BaseField = <T extends string>(fieldType: t.LiteralC<T>) => {\n    return t.interface({\n        type: fieldType,\n        required: t.boolean,\n        read_only: t.boolean,\n        label: t.string,\n        help_text: optional(t.string),\n    });\n};\n\nexport const IntegerField = BaseField(t.literal(\"integer\"));\n\nexport const BooleanField = BaseField(t.literal(\"boolean\"));\n\nexport const DatetimeField = BaseField(t.literal(\"datetime\"));\n\nexport const StringField = t.intersection([\n    BaseField(t.literal(\"string\")),\n    t.interface({\n        max_length: optional(t.number),\n    }),\n]);\n\nexport const ChoiceField = t.intersection([\n    BaseField(t.literal(\"choice\")),\n    t.interface({\n        choices: DRFSelectOptions,\n    }),\n]);\n\nexport const Field = t.union([\n    IntegerField,\n    BooleanField,\n    DatetimeField,\n    StringField,\n    ChoiceField,\n    t.unknown,\n]);\n\nexport const HTTPMethod = t.union([\n    t.literal(\"GET\"),\n    t.literal(\"HEAD\"),\n    t.literal(\"OPTIONS\"),\n    t.literal(\"POST\"),\n    t.literal(\"PUT\"),\n    t.literal(\"PATCH\"),\n    t.literal(\"DELETE\"),\n]);\n\nexport const DRFOptionsResponse = t.interface({\n    name: t.string,\n    description: t.string,\n    renders: t.readonlyArray(t.string),\n    parses: t.readonlyArray(t.string),\n    actions: t.interface({\n        GET: optional(t.record(t.string, Field)),\n        HEAD: optional(t.record(t.string, Field)),\n        OPTIONS: optional(t.record(t.string, Field)),\n        POST: optional(t.record(t.string, Field)),\n        PUT: optional(t.record(t.string, Field)),\n        PATCH: optional(t.record(t.string, Field)),\n        DELETE: optional(t.record(t.string, Field)),\n    }),\n});\n\nexport const Product = t.interface({\n    id: t.number,\n    dashboard_url: t.string,\n    product_class: nullable(\n        t.interface({\n            id: t.number,\n            name: t.string,\n        })\n    ),\n    title: t.string,\n    slug: t.string,\n    is_parent: t.boolean,\n    is_child: t.boolean,\n    parent: nullable(t.number),\n    children: t.array(t.number),\n});\nexport const Products = t.array(Product);\n\nexport const Range = t.interface({\n    id: t.number,\n    dashboard_url: t.string,\n    name: t.string,\n    slug: t.string,\n    description: t.string,\n});\nexport const Ranges = t.array(Range);\n\nexport const ConcreteBundle = t.interface({\n    id: nullable(t.number),\n    triggering_product: t.number,\n    suggested_products: t.array(t.number),\n});\nexport const ConcreteBundles = t.array(ConcreteBundle);\n\nexport const UserConfigurableBundle = t.interface({\n    id: nullable(t.number),\n    triggering_product: t.number,\n    suggested_range: t.number,\n    quantity: t.number,\n});\nexport const UserConfigurableBundles = t.array(UserConfigurableBundle);\n\nexport const BundleGroup = t.interface({\n    id: nullable(t.number),\n    bundle_type: t.string,\n    name: t.string,\n    description: t.string,\n    headline: t.string,\n    image: optional(nullable(t.string)),\n    newImage: optional(nullable(file)),\n    clearImage: optional(t.boolean),\n    triggering_parents: t.array(t.number),\n    suggested_parents: t.array(t.number),\n    concrete_bundles: t.array(ConcreteBundle),\n    user_configurable_bundles: t.array(UserConfigurableBundle),\n});\nexport const BundleGroups = t.array(BundleGroup);\n","import request from \"superagent\";\nimport cookies from \"js-cookie\";\nimport {\n    IDRFSelectOption,\n    IBundleGroup,\n    IProduct,\n    IRange,\n    IConcreteBundle,\n    IUserConfigurableBundle,\n} from \"./models.interfaces\";\nimport {\n    check,\n    ChoiceField,\n    DRFOptionsResponse,\n    BundleGroup,\n    BundleGroups,\n    Products,\n    Ranges,\n    ConcreteBundles,\n    UserConfigurableBundles,\n} from \"./models\";\n\nconst CSRF_HEADER = \"X-CSRFToken\";\n\nconst getCSRFToken = function () {\n    return cookies.get(\"csrftoken\") || \"\";\n};\n\nconst fetchData = async (endpoint: string) => {\n    return request.get(endpoint).set(\"Accept\", \"application/json\");\n};\n\nexport const getBundleTypeChoices = async (\n    endpoint: string\n): Promise<ReadonlyArray<IDRFSelectOption>> => {\n    const resp = await request\n        .options(endpoint)\n        .set(\"Accept\", \"application/json\");\n    const body = check(DRFOptionsResponse.decode(resp.body));\n    if (!body.actions.POST) {\n        return [];\n    }\n    const field = check(ChoiceField.decode(body.actions.POST.bundle_type));\n    const choices = field.choices;\n    return choices;\n};\n\nexport const listBundleGroups = async (\n    endpoint: string\n): Promise<IBundleGroup[]> => {\n    const resp = await fetchData(endpoint);\n    return check(BundleGroups.decode(resp.body));\n};\n\nexport const listProducts = async (endpoint: string): Promise<IProduct[]> => {\n    const resp = await fetchData(endpoint);\n    return check(Products.decode(resp.body));\n};\n\nexport const listRanges = async (endpoint: string): Promise<IRange[]> => {\n    const resp = await fetchData(endpoint);\n    return check(Ranges.decode(resp.body));\n};\n\nexport const listConcreteBundles = async (\n    endpoint: string\n): Promise<IConcreteBundle[]> => {\n    const resp = await fetchData(endpoint);\n    return check(ConcreteBundles.decode(resp.body));\n};\n\nexport const listUserConfigurableBundles = async (\n    endpoint: string\n): Promise<IUserConfigurableBundle[]> => {\n    const resp = await fetchData(endpoint);\n    return check(UserConfigurableBundles.decode(resp.body));\n};\n\nconst _saveBundleGroupData = async (\n    endpoint: string,\n    group: IBundleGroup\n): Promise<IBundleGroup> => {\n    const req = group.id\n        ? request.patch(`${endpoint}${group.id}/`)\n        : request.post(endpoint);\n    const data = { ...group };\n    delete data.image;\n    delete data.newImage;\n    delete data.clearImage;\n    const resp = await req\n        .set(\"Accept\", \"application/json\")\n        .set(CSRF_HEADER, getCSRFToken())\n        .send(data);\n    return check(BundleGroup.decode(resp.body));\n};\n\nconst _saveBundleGroupImage = async (\n    endpoint: string,\n    group: IBundleGroup\n): Promise<void> => {\n    if (!group.id) {\n        throw new Error(\"Can not save image for unsaved bundle group\");\n    }\n\n    if (!group.newImage && !group.clearImage) {\n        return Promise.resolve();\n    }\n\n    let req = request\n        .patch(`${endpoint}${group.id}/`)\n        .set(\"Accept\", \"application/json\")\n        .set(CSRF_HEADER, getCSRFToken());\n\n    if (group.newImage && !group.clearImage) {\n        req = req.attach(\"image\", group.newImage, group.newImage.name);\n    } else if (group.clearImage) {\n        req = req.send({ image: null });\n    }\n\n    await req;\n};\n\nexport const saveBundleGroup = async (\n    endpoint: string,\n    data: IBundleGroup\n): Promise<IBundleGroup> => {\n    const group = await _saveBundleGroupData(endpoint, data);\n    data.id = group.id; // Update bundle group ID if it was just created\n    await _saveBundleGroupImage(endpoint, data);\n    return group;\n};\n\nexport const deleteBundleGroup = async (\n    endpoint: string,\n    group: IBundleGroup\n): Promise<void> => {\n    if (!group.id) {\n        throw new Error(\"Can not delete unsaved bundle group\");\n    }\n    await request\n        .delete(`${endpoint}${group.id}/`)\n        .set(\"Accept\", \"application/json\")\n        .set(CSRF_HEADER, getCSRFToken());\n};\n","import React from \"react\";\n\nexport interface IProps {\n    searchText: string;\n    onChange: (searchText: string) => void;\n}\n\nexport interface IState {}\n\nclass BundleGroupSearchForm extends React.PureComponent<IProps, IState> {\n    render() {\n        const self = this;\n\n        const onChange = function (e: React.FormEvent<HTMLInputElement>) {\n            e.preventDefault();\n            self.props.onChange(e.currentTarget.value);\n        };\n\n        const onClear = function (e: React.FormEvent<HTMLButtonElement>) {\n            e.preventDefault();\n            self.props.onChange(\"\");\n        };\n\n        const onSubmit = function (e: React.FormEvent<HTMLFormElement>) {\n            e.preventDefault();\n        };\n\n        return (\n            <div className=\"card card-body bg-light\">\n                <form className=\"form-inline\" onSubmit={onSubmit}>\n                    <span className=\"form-group\">\n                        <label htmlFor=\"id_text\">{gettext(\"Search:\")}</label>\n                        <input\n                            className=\"form-control\"\n                            id=\"id_text\"\n                            value={this.props.searchText}\n                            onChange={onChange}\n                        />\n                    </span>{\" \"}\n                    <button\n                        type=\"button\"\n                        className=\"btn btn-secondary\"\n                        onClick={onClear}\n                    >\n                        {gettext(\"Clear Search\")}\n                    </button>\n                </form>\n            </div>\n        );\n    }\n}\n\nexport default BundleGroupSearchForm;\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport {\n    IBundleGroup,\n    IDRFSelectOptions,\n} from \"../../../utils/models.interfaces\";\n\ninterface IProps {\n    bundleTypeChoices: IDRFSelectOptions;\n    group: IBundleGroup | null;\n    isSaving: boolean;\n    errors: {\n        bundleType?: string[];\n        name?: string[];\n        headline?: string[];\n        description?: string[];\n        image?: string[];\n    };\n    bundleType: string;\n    name: string;\n    headline: string;\n    description: string;\n    image: File | null;\n    clearImage: boolean;\n\n    onEdit: (\n        e: React.FormEvent<\n            HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement\n        >\n    ) => void;\n    onSelectImage: (e: React.FormEvent<HTMLInputElement>) => void;\n    onClearImage: (e: React.FormEvent<HTMLInputElement>) => void;\n}\n\ninterface IState {}\n\nexport class BundleGroupMetaFields extends React.PureComponent<IProps, IState> {\n    private buildFormGroupClasses(field: keyof IProps[\"errors\"]) {\n        const fieldErrors = this.props.errors[field];\n        const classes: { [name: string]: boolean } = {\n            \"form-group\": true,\n            \"has-error\": fieldErrors ? fieldErrors.length > 0 : false,\n        };\n        return classNames(classes);\n    }\n\n    private buildErrors(field: keyof IProps[\"errors\"]) {\n        return (this.props.errors[field] || []).map((errorMsg, i) => {\n            return (\n                <span key={i} className=\"help-block\">\n                    <i className=\"fas fa-exclamation\"></i> {errorMsg}\n                </span>\n            );\n        });\n    }\n\n    private buildCurrentImage() {\n        if (!this.props.group || !this.props.group.image) {\n            return null;\n        }\n        const pathParts = this.props.group.image.split(\"/\");\n        const fileName = pathParts[pathParts.length - 1];\n        return (\n            <span>\n                {gettext(\"Currently:\")}{\" \"}\n                <a target=\"_blank\" href={this.props.group.image}>\n                    {fileName}\n                </a>{\" \"}\n                <input\n                    type=\"checkbox\"\n                    id=\"bundle-edit-form-clear-img\"\n                    checked={this.props.clearImage}\n                    onChange={this.props.onClearImage}\n                    disabled={this.props.isSaving}\n                />{\" \"}\n                <label htmlFor=\"bundle-edit-form-clear-img\">\n                    {gettext(\"Clear\")}\n                </label>\n            </span>\n        );\n    }\n\n    render() {\n        const title = this.props.group\n            ? gettext(\"Edit Bundle Group\")\n            : gettext(\"Create Bundle Group\");\n        return (\n            <div className=\"col-sm-12 bundle-group-edit__section\">\n                <h1>{title}</h1>\n                <div className={this.buildFormGroupClasses(\"bundleType\")}>\n                    <label htmlFor=\"id_bundleType\" className=\"control-label\">\n                        {gettext(\"Bundle Type\")}\n                    </label>\n                    <div>\n                        <select\n                            id=\"id_bundleType\"\n                            name=\"bundleType\"\n                            className=\"form-control\"\n                            value={this.props.bundleType}\n                            onChange={this.props.onEdit}\n                            disabled={this.props.isSaving}\n                        >\n                            {this.props.bundleTypeChoices.map((choice) => {\n                                return (\n                                    <option\n                                        key={choice.value}\n                                        value={choice.value}\n                                    >\n                                        {choice.display_name}\n                                    </option>\n                                );\n                            })}\n                        </select>\n                        {this.buildErrors(\"bundleType\")}\n                    </div>\n                </div>\n                <div className={this.buildFormGroupClasses(\"name\")}>\n                    <label htmlFor=\"id_name\" className=\"control-label\">\n                        {gettext(\"Name\")}\n                    </label>\n                    <div>\n                        <input\n                            id=\"id_name\"\n                            name=\"name\"\n                            maxLength={200}\n                            className=\"form-control\"\n                            value={this.props.name}\n                            onChange={this.props.onEdit}\n                            disabled={this.props.isSaving}\n                        />\n                        {this.buildErrors(\"name\")}\n                    </div>\n                </div>\n                <div className={this.buildFormGroupClasses(\"headline\")}>\n                    <label htmlFor=\"id_headline\" className=\"control-label\">\n                        {gettext(\"Headline\")}\n                    </label>\n                    <div>\n                        <textarea\n                            id=\"id_headline\"\n                            name=\"headline\"\n                            cols={40}\n                            rows={4}\n                            className=\"form-control\"\n                            value={this.props.headline}\n                            onChange={this.props.onEdit}\n                            disabled={this.props.isSaving}\n                        ></textarea>\n                        {this.buildErrors(\"headline\")}\n                    </div>\n                </div>\n                <div className={this.buildFormGroupClasses(\"description\")}>\n                    <label htmlFor=\"id_description\" className=\"control-label\">\n                        {gettext(\"Description\")}\n                    </label>\n                    <div>\n                        <textarea\n                            id=\"id_description\"\n                            name=\"description\"\n                            cols={40}\n                            rows={4}\n                            className=\"form-control\"\n                            value={this.props.description}\n                            onChange={this.props.onEdit}\n                            disabled={this.props.isSaving}\n                        ></textarea>\n                        {this.buildErrors(\"description\")}\n                    </div>\n                </div>\n                <div className={this.buildFormGroupClasses(\"image\")}>\n                    <label htmlFor=\"id_image\" className=\"control-label\">\n                        {gettext(\"Image\")}\n                    </label>\n                    <div>\n                        {this.buildCurrentImage()}\n                        <input\n                            id=\"id_image\"\n                            type=\"file\"\n                            name=\"image\"\n                            className=\"form-control\"\n                            onChange={this.props.onSelectImage}\n                            disabled={this.props.isSaving}\n                        />\n                        {this.buildErrors(\"image\")}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport Select from \"react-select\";\nimport { IProduct, SelectOption } from \"../../../utils/models.interfaces\";\n\ninterface IProps {\n    products: IProduct[];\n    isSaving: boolean;\n    errors: {\n        triggering_parents?: string[];\n        suggested_parents?: string[];\n    };\n    triggeringParents: number[];\n    suggestedParents: number[];\n    onSelectParent: (\n        name: \"triggeringParents\" | \"suggestedParents\",\n        opts: SelectOption | ReadonlyArray<SelectOption> | null | undefined\n    ) => void;\n}\n\ninterface IState {}\n\nexport class ParentProductsEditForm extends React.PureComponent<\n    IProps,\n    IState\n> {\n    private getParentProductSelectOptions() {\n        return this.props.products\n            .filter((p) => {\n                return !p.is_child;\n            })\n            .sort((a, b) => {\n                return a.title.localeCompare(b.title);\n            })\n            .map((p) => {\n                const opt: SelectOption = {\n                    value: p.id,\n                    label: p.title,\n                };\n                return opt;\n            });\n    }\n\n    private buildFormGroupClasses(\n        field: keyof IProps[\"errors\"],\n        extras: string[]\n    ) {\n        const fieldErrors = this.props.errors[field];\n        const classes: { [name: string]: boolean } = {\n            \"form-group\": true,\n            \"has-error\": fieldErrors ? fieldErrors.length > 0 : false,\n        };\n        extras.forEach((className) => {\n            classes[className] = true;\n        });\n        return classNames(classes);\n    }\n\n    private buildErrors(field: keyof IProps[\"errors\"]) {\n        return (this.props.errors[field] || []).map((errorMsg, i) => {\n            return (\n                <span key={i} className=\"help-block\">\n                    <i className=\"fas fa-exclamation\"></i> {errorMsg}\n                </span>\n            );\n        });\n    }\n\n    render() {\n        const parentProductSelectOptions = this.getParentProductSelectOptions();\n        return (\n            <div className=\"col-sm-12 bundle-group-edit__section\">\n                <h1>{gettext(\"Relevant Products\")}</h1>\n                <p>\n                    <em>\n                        {gettext(\n                            \"Select the parent and standalone products revelant to this bundle group.\"\n                        )}\n                    </em>\n                </p>\n                <div className=\"row\">\n                    <div\n                        className={this.buildFormGroupClasses(\n                            \"triggering_parents\",\n                            [\"col-sm-6\"]\n                        )}\n                    >\n                        <label htmlFor=\"id_image\" className=\"control-label\">\n                            {gettext(\"Triggers\")}\n                        </label>\n                        <div>\n                            <Select\n                                name=\"triggeringParents\"\n                                isMulti={true}\n                                value={parentProductSelectOptions.filter((o) =>\n                                    this.props.triggeringParents.includes(\n                                        o.value\n                                    )\n                                )}\n                                onChange={this.props.onSelectParent.bind(\n                                    this,\n                                    \"triggeringParents\"\n                                )}\n                                options={parentProductSelectOptions}\n                                isDisabled={this.props.isSaving}\n                            />\n                            {this.buildErrors(\"triggering_parents\")}\n                        </div>\n                    </div>\n                    <div\n                        className={this.buildFormGroupClasses(\n                            \"suggested_parents\",\n                            [\"col-sm-6\"]\n                        )}\n                    >\n                        <label htmlFor=\"id_image\" className=\"control-label\">\n                            {gettext(\"Suggestions\")}\n                        </label>\n                        <div>\n                            <Select\n                                name=\"suggestedProducts\"\n                                isMulti={true}\n                                value={parentProductSelectOptions.filter((o) =>\n                                    this.props.suggestedParents.includes(\n                                        o.value\n                                    )\n                                )}\n                                onChange={this.props.onSelectParent.bind(\n                                    this,\n                                    \"suggestedParents\"\n                                )}\n                                options={parentProductSelectOptions}\n                                isDisabled={this.props.isSaving}\n                            />\n                            {this.buildErrors(\"suggested_parents\")}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n","import React from \"react\";\nimport Select from \"react-select\";\nimport {\n    IProduct,\n    IRange,\n    SelectOption,\n} from \"../../../utils/models.interfaces\";\n\ntype ILinkedRange = {\n    rangeID: number | null;\n    quantity: number;\n};\nexport type ILinkedRanges = {\n    [triggeringProductID: number]: ILinkedRange[];\n};\n\ninterface IProps {\n    ranges: IRange[];\n    isSaving: boolean;\n    triggeringParents: number[];\n    linkedRanges: ILinkedRanges;\n    getProduct: (productID: number) => IProduct;\n    onLinkedRangesChange: (\n        trigger: IProduct,\n        rangeIndex: number,\n        opts: SelectOption | ReadonlyArray<SelectOption> | null | undefined\n    ) => void;\n    onLinkedRangeQuantityChange: (\n        trigger: IProduct,\n        rangeIndex: number,\n        opts: SelectOption | ReadonlyArray<SelectOption> | null | undefined\n    ) => void;\n}\n\ninterface IState {}\n\nconst helpText =\n    gettext(`User configurable bundles are bundles which link parent/standalone products to ranges of \\\nother products. Their intent is to represent a group of products related to the suggesting parent, rather than a \\\nspecific one-to-one mapping of product to product.`);\n\nexport class UserConfigurableBundles extends React.PureComponent<\n    IProps,\n    IState\n> {\n    private getRangeSelectOptions() {\n        const rangeOptions = this.props.ranges\n            .sort((a, b) => {\n                return a.name.localeCompare(b.name);\n            })\n            .map((p) => {\n                const opt: SelectOption = {\n                    value: p.id,\n                    label: p.name,\n                };\n                return opt;\n            });\n        return rangeOptions;\n    }\n\n    private getQuantitySelectOptions() {\n        const quantityOptions: SelectOption[] = [];\n        for (let i = 1; i < 100; i++) {\n            quantityOptions.push({\n                value: i,\n                label: `${i}`,\n            });\n        }\n        return quantityOptions;\n    }\n\n    private buildBundleRows(triggerParent: IProduct) {\n        const suggestOptions = this.getRangeSelectOptions();\n        const quantityOptions = this.getQuantitySelectOptions();\n        const linkedRanges = this.props.linkedRanges[triggerParent.id] || [];\n        if (\n            linkedRanges.length <= 0 ||\n            linkedRanges[linkedRanges.length - 1].rangeID !== null\n        ) {\n            linkedRanges.push({\n                rangeID: null,\n                quantity: 1,\n            });\n        }\n        return (\n            <table\n                key={triggerParent.id}\n                className=\"table bundle-group-edit__link-table\"\n            >\n                <tbody>\n                    {linkedRanges.map((range, i) => {\n                        return (\n                            <tr key={i}>\n                                <th>\n                                    <a\n                                        href={triggerParent.dashboard_url}\n                                        target=\"_blank\"\n                                    >\n                                        {triggerParent.title}\n                                    </a>\n                                </th>\n                                <td>\n                                    <Select\n                                        isClearable={true}\n                                        value={suggestOptions.filter(\n                                            (o) => o.value === range.rangeID\n                                        )}\n                                        options={suggestOptions}\n                                        onChange={this.props.onLinkedRangesChange.bind(\n                                            this,\n                                            triggerParent,\n                                            i\n                                        )}\n                                        isDisabled={this.props.isSaving}\n                                    />\n                                </td>\n                                <td>\n                                    <Select\n                                        value={quantityOptions.filter(\n                                            (o) =>\n                                                range.rangeID !== null &&\n                                                o.value === range.quantity\n                                        )}\n                                        options={quantityOptions}\n                                        onChange={this.props.onLinkedRangeQuantityChange.bind(\n                                            this,\n                                            triggerParent,\n                                            i\n                                        )}\n                                        isDisabled={\n                                            this.props.isSaving ||\n                                            range.rangeID === null\n                                        }\n                                    />\n                                </td>\n                            </tr>\n                        );\n                    })}\n                </tbody>\n            </table>\n        );\n    }\n\n    private buildParentRows() {\n        if (this.props.triggeringParents.length <= 0) {\n            return (\n                <div className=\"row\">\n                    <div className=\"col-sm-12\">\n                        <p>\n                            <em>\n                                {gettext(\n                                    \"Select at least one trigger product to begin linking ranges.\"\n                                )}\n                            </em>\n                        </p>\n                    </div>\n                </div>\n            );\n        }\n        return (\n            <div className=\"row\">\n                <div className=\"col-sm-4\">\n                    <h3>\n                        <strong>{gettext(\"Trigger Parent\")}</strong>\n                    </h3>\n                </div>\n                <div className=\"col-sm-4\">\n                    <h3>\n                        <strong>{gettext(\"Suggested Range\")}</strong>\n                    </h3>\n                </div>\n                <div className=\"col-sm-4\">\n                    <h3>\n                        <strong>{gettext(\"Suggested Quantity\")}</strong>\n                    </h3>\n                </div>\n                <div className=\"col-sm-12\">\n                    {this.props.triggeringParents.map((triggerParentID) => {\n                        const triggerParent =\n                            this.props.getProduct(triggerParentID);\n                        return this.buildBundleRows(triggerParent);\n                    })}\n                </div>\n            </div>\n        );\n    }\n\n    render() {\n        return (\n            <div className=\"col-sm-12 bundle-group-edit__section\">\n                <h1>{gettext(\"Range Links (User Configurable Bundles)\")}</h1>\n                <p>\n                    <em>{helpText}</em>\n                </p>\n                {this.buildParentRows()}\n            </div>\n        );\n    }\n}\n","import React from \"react\";\nimport Select from \"react-select\";\nimport { IProduct, SelectOption } from \"../../../utils/models.interfaces\";\n\nexport type ILinkedProducts = {\n    [triggeringProductID: number]: number[];\n};\n\ninterface IProps {\n    products: IProduct[];\n    isSaving: boolean;\n    triggeringParents: number[];\n    suggestedParents: number[];\n    linkedProducts: ILinkedProducts;\n    getProduct: (productID: number) => IProduct;\n    onLinkedProductsChange: (\n        trigger: IProduct,\n        suggestParent: IProduct,\n        opts: SelectOption | ReadonlyArray<SelectOption> | null | undefined\n    ) => void;\n}\n\ninterface IState {}\n\nexport class ConcreteBundles extends React.PureComponent<IProps, IState> {\n    private getChildProductSelectOptions(parent: IProduct) {\n        return this.props.products\n            .filter((p) => {\n                return (\n                    !p.is_parent &&\n                    (p.id === parent.id || p.parent === parent.id)\n                );\n            })\n            .sort((a, b) => {\n                return a.title.localeCompare(b.title);\n            })\n            .map((p) => {\n                const opt: SelectOption = {\n                    value: p.id,\n                    label: p.title,\n                };\n                return opt;\n            });\n    }\n\n    private buildBundleRows(triggerParent: IProduct, suggestParent: IProduct) {\n        const triggerOptions = this.props.products\n            .filter((p) => {\n                return (\n                    !p.is_parent &&\n                    (p.id === triggerParent.id || p.parent === triggerParent.id)\n                );\n            })\n            .sort((a, b) => {\n                return a.title.localeCompare(b.title);\n            });\n        const suggestOptions = this.getChildProductSelectOptions(suggestParent);\n        return (\n            <table className=\"table bundle-group-edit__link-table\">\n                <tbody>\n                    {triggerOptions.map((trigger) => {\n                        const selectValue = (\n                            this.props.linkedProducts[trigger.id] || []\n                        ).filter((sid) => {\n                            const suggestion = this.props.getProduct(sid);\n                            return (\n                                suggestion.id === suggestParent.id ||\n                                suggestion.parent === suggestParent.id\n                            );\n                        });\n                        return (\n                            <tr key={trigger.id}>\n                                <th>\n                                    <a\n                                        href={trigger.dashboard_url}\n                                        target=\"_blank\"\n                                    >\n                                        {trigger.title}\n                                    </a>\n                                </th>\n                                <td>\n                                    <Select\n                                        isMulti={true}\n                                        value={suggestOptions.filter((o) =>\n                                            selectValue.includes(o.value)\n                                        )}\n                                        options={suggestOptions}\n                                        onChange={this.props.onLinkedProductsChange.bind(\n                                            this,\n                                            trigger,\n                                            suggestParent\n                                        )}\n                                        isDisabled={this.props.isSaving}\n                                    />\n                                </td>\n                            </tr>\n                        );\n                    })}\n                </tbody>\n            </table>\n        );\n    }\n\n    private buildParentRows() {\n        type ICombination = {\n            triggerParent: IProduct;\n            suggestParent: IProduct;\n        };\n        if (\n            this.props.triggeringParents.length <= 0 ||\n            this.props.suggestedParents.length <= 0\n        ) {\n            return (\n                <div className=\"row\">\n                    <div className=\"col-sm-12\">\n                        <p>\n                            <em>\n                                {gettext(\n                                    \"Select at least one trigger product and one suggested product to begin linking variants.\"\n                                )}\n                            </em>\n                        </p>\n                    </div>\n                </div>\n            );\n        }\n        const parentCombinations: { [key: string]: ICombination } = {};\n        const buildKey = function (\n            triggerParent: number,\n            suggestParent: number\n        ) {\n            return `${triggerParent}-${suggestParent}`;\n        };\n        this.props.triggeringParents.forEach((triggerID) => {\n            this.props.suggestedParents.forEach((suggestionID) => {\n                const key = buildKey(triggerID, suggestionID);\n                parentCombinations[key] = {\n                    triggerParent: this.props.getProduct(triggerID),\n                    suggestParent: this.props.getProduct(suggestionID),\n                };\n            });\n        });\n        return Object.values(parentCombinations).map((combination, i) => {\n            return (\n                <div key={i} className=\"row\">\n                    <div className=\"col-sm-6\">\n                        <h3>\n                            <strong>{combination.triggerParent.title}</strong>{\" \"}\n                            <em>{gettext(\"(Trigger Parent)\")}</em>\n                        </h3>\n                    </div>\n                    <div className=\"col-sm-6\">\n                        <h3>\n                            <strong>{combination.suggestParent.title}</strong>{\" \"}\n                            <em>{gettext(\"(Suggestion Parent)\")}</em>\n                        </h3>\n                    </div>\n                    <div className=\"col-sm-12\">\n                        {this.buildBundleRows(\n                            combination.triggerParent,\n                            combination.suggestParent\n                        )}\n                    </div>\n                </div>\n            );\n        });\n    }\n\n    render() {\n        return (\n            <div className=\"col-sm-12 bundle-group-edit__section\">\n                <h1>{gettext(\"Product Links (Concrete Bundles)\")}</h1>\n                <p>\n                    <em>\n                        {gettext(\n                            \"Concrete bundles are bundles which link products to other specific products. They can not be customized by the end-consumer.\"\n                        )}\n                    </em>\n                </p>\n                {this.buildParentRows()}\n            </div>\n        );\n    }\n}\n","import React from \"react\";\n\ninterface IProps {\n    onCancel: (e: React.MouseEvent<HTMLElement>) => void;\n}\n\ninterface IState {}\n\nexport class BundleGroupEditFormActions extends React.PureComponent<\n    IProps,\n    IState\n> {\n    render() {\n        return (\n            <div className=\"col-sm-12 bundle-group-edit__section\">\n                <div className=\"form-group\">\n                    <a\n                        className=\"btn btn-secondary\"\n                        onClick={this.props.onCancel}\n                    >\n                        {gettext(\"Cancel\")}\n                    </a>{\" \"}\n                    <button className=\"btn btn-primary\" type=\"submit\">\n                        {gettext(\"Save\")}\n                    </button>\n                </div>\n            </div>\n        );\n    }\n}\n","import React from \"react\";\nimport {\n    IBundleGroup,\n    IConcreteBundle,\n    IUserConfigurableBundle,\n    IProduct,\n    IRange,\n    IDRFSelectOptions,\n    SelectOption,\n} from \"../../utils/models.interfaces\";\nimport { BundleGroupMetaFields } from \"./elements/BundleGroupEditForm_MetaFields\";\nimport { ParentProductsEditForm } from \"./elements/BundleGroupEditForm_ParentProducts\";\nimport {\n    ILinkedRanges,\n    UserConfigurableBundles,\n} from \"./elements/BundleGroupEditForm_UserConfigurableBundles\";\nimport {\n    ILinkedProducts,\n    ConcreteBundles,\n} from \"./elements/BundleGroupEditForm_ConcreteBundles\";\nimport { BundleGroupEditFormActions } from \"./elements/BundleGroupEditForm_Actions\";\n\nimport \"./BundleGroupEditForm.scss\";\n\ninterface IProps {\n    bundleTypeChoices: IDRFSelectOptions;\n    group: IBundleGroup | null;\n    products: IProduct[];\n    ranges: IRange[];\n    isSaving: boolean;\n    errors: {\n        bundleType?: string[];\n        name?: string[];\n        headline?: string[];\n        description?: string[];\n        image?: string[];\n        triggering_parents?: string[];\n        suggested_parents?: string[];\n    };\n    onCancel: () => void;\n    onSave: (data: IBundleGroup) => void;\n}\n\ninterface IState {\n    bundleType: string;\n    name: string;\n    headline: string;\n    description: string;\n    image: File | null;\n    clearImage: boolean;\n    triggeringParents: number[];\n    suggestedParents: number[];\n    linkedRanges: ILinkedRanges;\n    linkedProducts: ILinkedProducts;\n}\n\nconst _isSelectOptionArray = (\n    opts: SelectOption | ReadonlyArray<SelectOption> | null | undefined\n): opts is ReadonlyArray<SelectOption> => {\n    return !!opts && (opts as ReadonlyArray<SelectOption>).length !== undefined;\n};\n\nconst _isSelectOption = (\n    opts: SelectOption | ReadonlyArray<SelectOption> | null | undefined\n): opts is SelectOption => {\n    return !!opts && !_isSelectOptionArray(opts);\n};\n\nclass BundleGroupEditForm extends React.PureComponent<IProps, IState> {\n    private productIdx: { [id: number]: IProduct };\n\n    constructor(props: IProps) {\n        super(props);\n\n        // Build linked ranges data set\n        const linkedRanges: IState[\"linkedRanges\"] = {};\n        const configurableBundles = props.group\n            ? props.group.user_configurable_bundles\n            : [];\n        configurableBundles.forEach((bundle) => {\n            if (!linkedRanges[bundle.triggering_product]) {\n                linkedRanges[bundle.triggering_product] = [];\n            }\n            linkedRanges[bundle.triggering_product].push({\n                rangeID: bundle.suggested_range,\n                quantity: bundle.quantity,\n            });\n        });\n\n        // Build linked products data set\n        const linkedProducts: IState[\"linkedProducts\"] = {};\n        const concreteBundles = props.group ? props.group.concrete_bundles : [];\n        concreteBundles.forEach((bundle) => {\n            if (!linkedProducts[bundle.triggering_product]) {\n                linkedProducts[bundle.triggering_product] = [];\n            }\n            linkedProducts[bundle.triggering_product] = linkedProducts[\n                bundle.triggering_product\n            ]\n                .concat(bundle.suggested_products)\n                .filter((id, i, ids) => {\n                    return ids.indexOf(id) === i;\n                });\n        });\n\n        // Build initial state\n        const state: IState = {\n            bundleType: \"\",\n            name: \"\",\n            description: \"\",\n            headline: \"\",\n            image: null,\n            clearImage: false,\n            triggeringParents: [],\n            suggestedParents: [],\n            linkedRanges: linkedRanges,\n            linkedProducts: linkedProducts,\n        };\n        if (props.group) {\n            state.bundleType = props.group.bundle_type;\n            state.name = props.group.name;\n            state.description = props.group.description;\n            state.headline = props.group.headline;\n            state.triggeringParents = props.group.triggering_parents;\n            state.suggestedParents = props.group.suggested_parents;\n        } else if (props.bundleTypeChoices.length > 0) {\n            state.bundleType = props.bundleTypeChoices[0].value;\n        }\n        this.state = state;\n        this.productIdx = {};\n        this.fillProductIdx(props.products);\n    }\n\n    private readonly onEdit = (\n        e: React.FormEvent<\n            HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement\n        >\n    ) => {\n        const name = e.currentTarget.name as keyof IState;\n        const value = e.currentTarget.value;\n        this.setState((state) => {\n            return { ...state, [name]: value };\n        });\n    };\n\n    private readonly onSelectImage = (e: React.FormEvent<HTMLInputElement>) => {\n        if (!e.currentTarget.files) {\n            return;\n        }\n        const file = e.currentTarget.files[0];\n        this.setState({\n            image: file,\n        });\n    };\n\n    private readonly onSelectParent = (\n        name: \"triggeringParents\" | \"suggestedParents\",\n        opts: SelectOption | ReadonlyArray<SelectOption> | null | undefined\n    ) => {\n        let options: ReadonlyArray<SelectOption>;\n        if (!opts) {\n            options = [];\n        } else if ((opts as ReadonlyArray<SelectOption>).length === undefined) {\n            options = [opts as SelectOption];\n        } else {\n            options = opts as ReadonlyArray<SelectOption>;\n        }\n        this.setState((state) => {\n            return {\n                ...state,\n                [name]: options.map((o) => {\n                    return o.value;\n                }),\n            };\n        });\n    };\n\n    private readonly onLinkedRangesChange = (\n        trigger: IProduct,\n        rangeIndex: number,\n        opts: SelectOption | ReadonlyArray<SelectOption> | null | undefined\n    ) => {\n        let option: SelectOption | null = null;\n        if (_isSelectOption(opts)) {\n            option = opts;\n        } else if (_isSelectOptionArray(opts)) {\n            throw new Error(\n                \"Can not link multiple ranges to a single trigger parent\"\n            );\n        }\n        this.setState((state) => {\n            const linkedRanges = {\n                ...state.linkedRanges,\n            };\n            if (option) {\n                if (!linkedRanges[trigger.id]) {\n                    linkedRanges[trigger.id] = [];\n                }\n                linkedRanges[trigger.id][rangeIndex] = {\n                    ...(linkedRanges[trigger.id][rangeIndex] || {}),\n                    rangeID: option.value,\n                    quantity: 1,\n                };\n            } else {\n                delete linkedRanges[trigger.id][rangeIndex];\n                linkedRanges[trigger.id] = linkedRanges[trigger.id].filter(\n                    (r) => !!r\n                );\n                if (linkedRanges[trigger.id].length <= 0) {\n                    delete linkedRanges[trigger.id];\n                }\n            }\n            return { ...state, linkedRanges: linkedRanges };\n        });\n    };\n\n    private readonly onLinkedRangesQuantityChange = (\n        trigger: IProduct,\n        rangeIndex: number,\n        opts: SelectOption | ReadonlyArray<SelectOption> | null | undefined\n    ) => {\n        let option: SelectOption = { value: 1, label: \"1\" };\n        if (_isSelectOption(opts)) {\n            option = opts;\n        } else if (_isSelectOptionArray(opts)) {\n            throw new Error(\n                \"Can not link multiple quantities to a single range parent\"\n            );\n        }\n        this.setState((state) => {\n            const linkedRanges = {\n                ...state.linkedRanges,\n            };\n            if (\n                linkedRanges[trigger.id] &&\n                linkedRanges[trigger.id][rangeIndex]\n            ) {\n                linkedRanges[trigger.id][rangeIndex] = {\n                    ...linkedRanges[trigger.id][rangeIndex],\n                    quantity: option.value,\n                };\n            }\n            return { ...state, linkedRanges: linkedRanges };\n        });\n    };\n\n    private readonly onLinkedProductsChange = (\n        trigger: IProduct,\n        suggestParent: IProduct,\n        opts: SelectOption | ReadonlyArray<SelectOption> | null | undefined\n    ) => {\n        let options: ReadonlyArray<SelectOption>;\n        if (!opts) {\n            options = [];\n        } else if (_isSelectOption(opts)) {\n            options = [opts];\n        } else {\n            options = opts;\n        }\n        const ids = options.map((o) => {\n            return o.value;\n        });\n        this.setState((state) => {\n            const oldIDs = (state.linkedProducts[trigger.id] || []).filter(\n                (sid) => {\n                    const suggestion = this.getProduct(sid);\n                    return (\n                        suggestion.id !== suggestParent.id &&\n                        suggestion.parent !== suggestParent.id\n                    );\n                }\n            );\n            const newIDs = oldIDs.concat(ids).filter((id, i, _ids) => {\n                return _ids.indexOf(id) === i;\n            });\n            const linkedProducts = {\n                ...state.linkedProducts,\n                [trigger.id]: newIDs,\n            };\n            return { ...state, linkedProducts: linkedProducts };\n        });\n    };\n\n    private readonly onCancel = (e: React.MouseEvent<HTMLElement>) => {\n        e.preventDefault();\n        this.props.onCancel();\n    };\n\n    private readonly onSave = (e: React.FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n\n        const data: IBundleGroup = {\n            id: this.props.group ? this.props.group.id : null,\n            bundle_type: this.state.bundleType,\n            name: this.state.name,\n            description: this.state.description,\n            headline: this.state.headline,\n            image: this.props.group ? this.props.group.image : \"\",\n            newImage: this.state.clearImage ? null : this.state.image,\n            clearImage: this.state.clearImage,\n            triggering_parents: this.state.triggeringParents,\n            suggested_parents: this.state.suggestedParents,\n            concrete_bundles: [],\n            user_configurable_bundles: [],\n        };\n\n        Object.keys(this.state.linkedRanges).forEach((tID) => {\n            const triggerID = parseInt(tID, 10);\n            const tProduct = this.getProduct(triggerID);\n            if (\n                data.triggering_parents.indexOf(tProduct.id) === -1 &&\n                (!tProduct.parent ||\n                    data.triggering_parents.indexOf(tProduct.parent) === -1)\n            ) {\n                return;\n            }\n            const linkedRanges = this.state.linkedRanges[triggerID];\n            linkedRanges.forEach(({ rangeID, quantity }) => {\n                if (!rangeID || !quantity) {\n                    return;\n                }\n                let preExistingBundle: IUserConfigurableBundle | undefined =\n                    undefined;\n                if (this.props.group) {\n                    preExistingBundle =\n                        this.props.group.user_configurable_bundles.find((b) => {\n                            return (\n                                b.triggering_product === triggerID &&\n                                b.suggested_range === rangeID\n                            );\n                        });\n                }\n                data.user_configurable_bundles.push({\n                    id: preExistingBundle ? preExistingBundle.id : null,\n                    triggering_product: triggerID,\n                    suggested_range: rangeID,\n                    quantity: quantity,\n                });\n            });\n        });\n\n        Object.keys(this.state.linkedProducts).forEach((tID) => {\n            const triggerID = parseInt(tID, 10);\n            const tProduct = this.getProduct(triggerID);\n            if (\n                data.triggering_parents.indexOf(tProduct.id) === -1 &&\n                (!tProduct.parent ||\n                    data.triggering_parents.indexOf(tProduct.parent) === -1)\n            ) {\n                return;\n            }\n\n            let preExistingBundle: IConcreteBundle | undefined = undefined;\n            if (this.props.group) {\n                preExistingBundle = this.props.group.concrete_bundles.find(\n                    (b) => {\n                        return b.triggering_product === triggerID;\n                    }\n                );\n            }\n\n            const suggestionIDs = this.state.linkedProducts[triggerID].filter(\n                (sID) => {\n                    const sProduct = this.getProduct(sID);\n                    return (\n                        data.suggested_parents.indexOf(sProduct.id) !== -1 ||\n                        (sProduct.parent &&\n                            data.suggested_parents.indexOf(sProduct.parent) !==\n                                -1)\n                    );\n                }\n            );\n\n            if (suggestionIDs.length <= 0) {\n                return;\n            }\n\n            data.concrete_bundles.push({\n                id: preExistingBundle ? preExistingBundle.id : null,\n                triggering_product: triggerID,\n                suggested_products: suggestionIDs,\n            });\n        });\n\n        this.props.onSave(data);\n    };\n\n    private readonly onClearImage = (e: React.FormEvent<HTMLInputElement>) => {\n        this.setState({\n            clearImage: e.currentTarget.checked,\n        });\n    };\n\n    private readonly getProduct = (productID: number) => {\n        return this.productIdx[productID];\n    };\n\n    componentWillReceiveProps(nextProps: IProps) {\n        this.fillProductIdx(nextProps.products);\n    }\n\n    private fillProductIdx(products: IProduct[]) {\n        this.productIdx = {};\n        products.forEach((p) => {\n            this.productIdx[p.id] = p;\n        });\n    }\n\n    render() {\n        return (\n            <form className=\"row bundle-group-edit\" onSubmit={this.onSave}>\n                <BundleGroupMetaFields\n                    bundleTypeChoices={this.props.bundleTypeChoices}\n                    group={this.props.group}\n                    isSaving={this.props.isSaving}\n                    errors={this.props.errors}\n                    bundleType={this.state.bundleType}\n                    name={this.state.name}\n                    headline={this.state.headline}\n                    description={this.state.description}\n                    image={this.state.image}\n                    clearImage={this.state.clearImage}\n                    onEdit={this.onEdit}\n                    onSelectImage={this.onSelectImage}\n                    onClearImage={this.onClearImage}\n                />\n                <ParentProductsEditForm\n                    products={this.props.products}\n                    isSaving={this.props.isSaving}\n                    errors={this.props.errors}\n                    triggeringParents={this.state.triggeringParents}\n                    suggestedParents={this.state.suggestedParents}\n                    onSelectParent={this.onSelectParent}\n                />\n                <UserConfigurableBundles\n                    ranges={this.props.ranges}\n                    isSaving={this.props.isSaving}\n                    triggeringParents={this.state.triggeringParents}\n                    linkedRanges={this.state.linkedRanges}\n                    getProduct={this.getProduct}\n                    onLinkedRangesChange={this.onLinkedRangesChange}\n                    onLinkedRangeQuantityChange={\n                        this.onLinkedRangesQuantityChange\n                    }\n                />\n                <ConcreteBundles\n                    products={this.props.products}\n                    isSaving={this.props.isSaving}\n                    triggeringParents={this.state.triggeringParents}\n                    suggestedParents={this.state.suggestedParents}\n                    linkedProducts={this.state.linkedProducts}\n                    getProduct={this.getProduct}\n                    onLinkedProductsChange={this.onLinkedProductsChange}\n                />\n                <BundleGroupEditFormActions onCancel={this.onCancel} />\n            </form>\n        );\n    }\n}\n\nexport default BundleGroupEditForm;\n","import React from \"react\";\nimport {\n    IBundleGroup,\n    IProduct,\n    IRange,\n    IDRFSelectOptions,\n} from \"../../utils/models.interfaces\";\n\nexport interface IProps {\n    bundleTypeChoices: IDRFSelectOptions;\n    group: IBundleGroup;\n    products: IProduct[];\n    ranges: IRange[];\n    onEdit: (group: IBundleGroup) => void;\n    onDelete: (group: IBundleGroup) => void;\n}\n\nexport interface IState {}\n\nclass BundleGroupTableRow extends React.PureComponent<IProps, IState> {\n    private buildGroupActions() {\n        const self = this;\n        const onEdit = function (e: React.MouseEvent<HTMLAnchorElement>) {\n            e.preventDefault();\n            self.props.onEdit(self.props.group);\n        };\n        const onDelete = function (e: React.MouseEvent<HTMLAnchorElement>) {\n            e.preventDefault();\n            const msgFormat = gettext(\n                \"Are you sure you want to delete this bundle group (%(name)s) and all its associated bundles?\"\n            );\n            const data = {\n                name: self.props.group.name,\n            };\n            const msg = interpolate(msgFormat, data, true);\n            if (confirm(msg)) {\n                self.props.onDelete(self.props.group);\n            }\n        };\n        return (\n            <div className=\"btn-toolbar\">\n                <div className=\"dropdown\">\n                    <button\n                        className=\"btn btn-secondary dropdown-toggle\"\n                        type=\"button\"\n                        data-toggle=\"dropdown\"\n                        aria-haspopup=\"true\"\n                        aria-expanded=\"false\"\n                    >\n                        {gettext(\"Actions\")} <span className=\"caret\"></span>\n                    </button>\n                    <ul className=\"dropdown-menu dropdown-menu-right\">\n                        <a className=\"dropdown-item\" onClick={onEdit}>\n                            {gettext(\"Edit\")}\n                        </a>\n                        <a className=\"dropdown-item\" onClick={onDelete}>\n                            {gettext(\"Delete\")}\n                        </a>\n                    </ul>\n                </div>\n            </div>\n        );\n    }\n\n    private buildProductList(productIDs: number[]) {\n        const products = this.props.products.filter((p) => {\n            return productIDs.indexOf(p.id) !== -1;\n        });\n        return (\n            <ul>\n                {products.map((p) => {\n                    return (\n                        <li key={p.id}>\n                            <a href={p.dashboard_url}>{p.title}</a>\n                        </li>\n                    );\n                })}\n            </ul>\n        );\n    }\n\n    private buildRangeList() {\n        const rangeIDs = this.props.group.user_configurable_bundles.map(\n            (bundle) => bundle.suggested_range\n        );\n        const ranges = this.props.ranges.filter((r) => {\n            return rangeIDs.includes(r.id);\n        });\n        return (\n            <ul>\n                {ranges.map((r) => {\n                    return (\n                        <li key={r.id}>\n                            <a href={r.dashboard_url}>{r.name}</a>\n                        </li>\n                    );\n                })}\n            </ul>\n        );\n    }\n\n    render() {\n        const self = this;\n        const bundleType = this.props.bundleTypeChoices.find((choice) => {\n            return choice.value === self.props.group.bundle_type;\n        });\n        let suggestedProducts: JSX.Element | null = null;\n        let suggestedRanges: JSX.Element | null = null;\n        if (this.props.group.suggested_parents) {\n            suggestedProducts = (\n                <>\n                    <em>{gettext(\"Products:\")}</em>\n                    {this.buildProductList(this.props.group.suggested_parents)}\n                </>\n            );\n        }\n        if (this.props.group.user_configurable_bundles.length > 0) {\n            suggestedRanges = (\n                <>\n                    <em>{gettext(\"Ranges:\")}</em>\n                    {this.buildRangeList()}\n                </>\n            );\n        }\n        return (\n            <tr key={`${this.props.group.id}`}>\n                <td>{this.props.group.name}</td>\n                <td>{bundleType ? bundleType.display_name : \"\"}</td>\n                <td>\n                    <img\n                        src={this.props.group.image || undefined}\n                        width={100}\n                    />\n                </td>\n                <td>\n                    {this.buildProductList(this.props.group.triggering_parents)}\n                </td>\n                <td>\n                    {suggestedProducts}\n                    {suggestedRanges}\n                </td>\n                <td>{this.buildGroupActions()}</td>\n            </tr>\n        );\n    }\n}\n\nexport default BundleGroupTableRow;\n","import React from \"react\";\nimport lunr from \"lunr\";\nimport Modal from \"react-modal\";\nimport {\n    getBundleTypeChoices,\n    listBundleGroups,\n    listProducts,\n    listRanges,\n    saveBundleGroup,\n    deleteBundleGroup,\n} from \"../utils/api\";\nimport {\n    IBundleGroup,\n    IProduct,\n    IRange,\n    IDRFSelectOptions,\n} from \"../utils/models.interfaces\";\nimport BundleGroupSearchForm from \"./molecules/BundleGroupSearchForm\";\nimport BundleGroupEditForm from \"./molecules/BundleGroupEditForm\";\nimport BundleGroupTableRow from \"./molecules/BundleGroupTableRow\";\n\nimport \"./BundleGroupTable.scss\";\n\nModal.setAppElement(\"#bundlegroup-table\");\n\nconst modalStyles = {\n    overlay: {\n        backgroundColor: \"rgba(51, 51, 51, 0.8)\",\n        zIndex: 2000,\n    },\n    content: {\n        top: \"50%\",\n        left: \"50%\",\n        right: \"auto\",\n        bottom: \"auto\",\n        marginRight: \"-50%\",\n        transform: \"translate(-50%, -50%)\",\n        minWidth: \"800px\",\n        maxWidth: \"1000px\",\n        maxHeight: \"90%\",\n    },\n};\n\nexport interface IProps {\n    bundleGroupURL: string;\n    concreteBundleURL: string;\n    concreteBundleProductChoiceURL: string;\n    userConfigurableBundleURL: string;\n    userConfigurableBundleRangeChoiceURL: string;\n}\n\nexport interface IState {\n    bundleTypeChoices: IDRFSelectOptions;\n    groups: IBundleGroup[];\n    products: IProduct[];\n    ranges: IRange[];\n    searchText: string;\n    selectedGroup: number | null;\n    editModalOpen: boolean;\n    isSaving: boolean;\n    isLoading: boolean;\n    formErrors: {\n        name?: string[];\n        description?: string[];\n        image?: string[];\n        triggering_parents?: string[];\n        suggested_parents?: string[];\n    };\n}\n\nclass BundleGroupTable extends React.Component<IProps, IState> {\n    idx: lunr.Index | undefined;\n\n    state: IState = {\n        bundleTypeChoices: [],\n        groups: [],\n        products: [],\n        ranges: [],\n        searchText: \"\",\n        selectedGroup: null,\n        editModalOpen: false,\n        isSaving: false,\n        isLoading: true,\n        formErrors: {},\n    };\n\n    private readonly onSearchTextChange = (text: string) => {\n        this.setState({\n            searchText: text,\n        });\n    };\n\n    private readonly onCreate = (e: React.MouseEvent<HTMLElement>) => {\n        e.preventDefault();\n        this.openCreateModal();\n    };\n\n    private readonly onOpenEditModal = (group: IBundleGroup) => {\n        this.setState({\n            selectedGroup: group.id,\n            formErrors: {},\n            editModalOpen: true,\n        });\n    };\n\n    private readonly onCloseModal = () => {\n        this.setState({\n            selectedGroup: null,\n            formErrors: {},\n            editModalOpen: false,\n        });\n    };\n\n    private readonly onSaveBundleGroup = async (data: IBundleGroup) => {\n        this.setState({ isSaving: true });\n        try {\n            await saveBundleGroup(this.props.bundleGroupURL, data);\n            await this.loadData();\n            this.setState({ isSaving: false });\n            this.onCloseModal();\n        } catch (err) {\n            this.setState({\n                isSaving: false,\n                formErrors: err.response.body,\n            });\n        }\n    };\n\n    private readonly onDeleteBundleGroup = async (data: IBundleGroup) => {\n        await deleteBundleGroup(this.props.bundleGroupURL, data);\n        return this.loadData();\n    };\n\n    componentDidMount() {\n        this.loadData();\n    }\n\n    private async loadData() {\n        this.setState({ isLoading: true });\n        const loading = Promise.all([\n            getBundleTypeChoices(this.props.bundleGroupURL),\n            listBundleGroups(this.props.bundleGroupURL),\n            listProducts(this.props.concreteBundleProductChoiceURL),\n            listRanges(this.props.userConfigurableBundleRangeChoiceURL),\n        ]);\n        const [choices, groups, products, ranges] = await loading;\n        this.setBundleTypeChoices(choices);\n        this.setGroups(groups);\n        this.setProducts(products);\n        this.setRanges(ranges);\n        this.setState({ isLoading: false });\n    }\n\n    private openCreateModal() {\n        this.setState({\n            selectedGroup: null,\n            formErrors: {},\n            editModalOpen: true,\n        });\n    }\n\n    private setGroups(groups: IBundleGroup[]) {\n        // Update the search index\n        this.idx = lunr(function () {\n            const builder = this;\n            builder.ref(\"id\");\n            builder.field(\"name\");\n            builder.field(\"description\");\n            groups.forEach((g) => {\n                builder.add(g);\n            });\n        });\n        // Update the component state\n        this.setState({\n            groups: groups,\n        });\n    }\n\n    private setBundleTypeChoices(choices: IDRFSelectOptions) {\n        this.setState({\n            bundleTypeChoices: choices,\n        });\n    }\n\n    private setProducts(products: IProduct[]) {\n        this.setState({\n            products: products,\n        });\n    }\n\n    private setRanges(ranges: IRange[]) {\n        this.setState({\n            ranges: ranges,\n        });\n    }\n\n    private getSearchResults(searchText: string) {\n        if (!this.idx) {\n            return [];\n        }\n        const results = this.idx.search(searchText);\n        return results\n            .map((result) => {\n                const gid = parseInt(result.ref, 10);\n                return this.state.groups.find((g) => {\n                    return g.id === gid;\n                });\n            })\n            .filter((group): group is IBundleGroup => {\n                return !!group;\n            });\n    }\n\n    private buildGroupRows() {\n        const searchText = this.state.searchText.trim();\n        const results = searchText\n            ? this.getSearchResults(searchText)\n            : this.state.groups;\n        const numTableColumns = 6;\n        if (this.state.isLoading) {\n            return (\n                <tr>\n                    <td colSpan={numTableColumns}>\n                        <em>{gettext(\"Loading…\")}</em>\n                    </td>\n                </tr>\n            );\n        }\n        if (results.length <= 0) {\n            const msg = searchText\n                ? interpolate(\n                      gettext(\n                          \"No bundle groups found for search: %(searchText)s\"\n                      ),\n                      { searchText: searchText },\n                      true\n                  )\n                : gettext(\"No bundle groups found.\");\n            return (\n                <tr>\n                    <td colSpan={numTableColumns}>{msg}</td>\n                </tr>\n            );\n        }\n        return results.map((group) => {\n            return (\n                <BundleGroupTableRow\n                    key={`${group.id}`}\n                    bundleTypeChoices={this.state.bundleTypeChoices}\n                    group={group}\n                    products={this.state.products}\n                    ranges={this.state.ranges}\n                    onEdit={this.onOpenEditModal}\n                    onDelete={this.onDeleteBundleGroup}\n                />\n            );\n        });\n    }\n\n    private buildEditModal() {\n        const group = this.state.groups.find((g) => {\n            return g.id === this.state.selectedGroup;\n        });\n        return (\n            <Modal\n                contentLabel={gettext(\"Edit Bundle Group\")}\n                style={modalStyles}\n                isOpen={this.state.editModalOpen}\n            >\n                <BundleGroupEditForm\n                    bundleTypeChoices={this.state.bundleTypeChoices}\n                    group={group || null}\n                    products={this.state.products}\n                    ranges={this.state.ranges}\n                    isSaving={this.state.isSaving}\n                    errors={this.state.formErrors}\n                    onCancel={this.onCloseModal}\n                    onSave={this.onSaveBundleGroup}\n                />\n            </Modal>\n        );\n    }\n\n    render() {\n        return (\n            <div>\n                <div className=\"page-header\">\n                    <a\n                        className=\"btn btn-primary float-right\"\n                        onClick={this.onCreate}\n                    >\n                        <i className=\"fas fa-plus-circle\"></i>{\" \"}\n                        {gettext(\"Create new bundle group\")}\n                    </a>\n                    <h1>{gettext(\"Bundle Groups\")}</h1>\n                </div>\n                <div className=\"table-header\">\n                    <h3>\n                        <i className=\"fas fa-search\"></i>\n                        {gettext(\"Search Bundle Groups\")}\n                    </h3>\n                </div>\n                <BundleGroupSearchForm\n                    searchText={this.state.searchText}\n                    onChange={this.onSearchTextChange}\n                />\n\n                <table className=\"table table-striped table-bordered\">\n                    <tbody>\n                        <tr>\n                            <th>{gettext(\"Name\")}</th>\n                            <th>{gettext(\"Type\")}</th>\n                            <th>{gettext(\"Image\")}</th>\n                            <th>{gettext(\"Triggers\")}</th>\n                            <th>{gettext(\"Suggestions\")}</th>\n                            <th>{gettext(\"Actions\")}</th>\n                        </tr>\n                        {this.buildGroupRows()}\n                    </tbody>\n                </table>\n\n                {this.buildEditModal()}\n            </div>\n        );\n    }\n}\n\nexport default BundleGroupTable;\n","// Load polyfills needed for IE11 and other old browsers\nimport \"core-js/stable\";\nimport \"regenerator-runtime/runtime\";\nimport React from \"react\";\nimport { render } from \"react-dom\";\nimport BundleGroupTable from \"./bundles/BundleGroupTable\";\n\ntype INamedInterpolationData = { [key: string]: string };\ntype IPositionalInterpolationData = string[];\ntype IInterpolateFn = ((\n    fmt: string,\n    obj: IPositionalInterpolationData,\n    named?: false\n) => string) &\n    ((fmt: string, obj: INamedInterpolationData, named: true) => string);\ninterface IDjango {\n    readonly gettext: (msgid: string) => string;\n    readonly ngettext: (\n        singular: string,\n        plural: string,\n        count: number\n    ) => string;\n    readonly gettext_noop: (msgid: string) => string;\n    readonly pgettext: (context: string, msgid: string) => string;\n    readonly npgettext: (\n        context: string,\n        singular: string,\n        plural: string,\n        count: number\n    ) => string;\n    readonly interpolate: IInterpolateFn;\n\n    readonly pluralidx: (count: number) => number;\n\n    readonly jsi18n_initialized: boolean;\n    readonly catalog: {\n        [msgid: string]: string;\n    };\n    readonly formats: {\n        [msgid: string]: string | string[];\n    };\n    readonly get_format: (formatType: string) => string | string[];\n}\n\ndeclare global {\n    // Django i18n functions\n    const django: IDjango;\n    const pluralidx: IDjango[\"pluralidx\"];\n    const gettext: IDjango[\"gettext\"];\n    const ngettext: IDjango[\"ngettext\"];\n    const gettext_noop: IDjango[\"gettext_noop\"];\n    const pgettext: IDjango[\"pgettext\"];\n    const npgettext: IDjango[\"npgettext\"];\n    const interpolate: IDjango[\"interpolate\"];\n    const get_format: IDjango[\"get_format\"];\n}\n\nconst main = function () {\n    const elem = document.querySelector(\"#bundlegroup-table\") as HTMLDivElement;\n    const bundleGroupURL = elem.dataset.bundlegroupApi || \"\";\n    const concreteBundleURL = elem.dataset.concretebundleApi || \"\";\n    const concreteBundleProductChoiceURL =\n        elem.dataset.concretebundleProductChoiceApi || \"\";\n    const userConfigurableBundleURL =\n        elem.dataset.userconfigurablebundleApi || \"\";\n    const userConfigurableBundleRangeChoiceURL =\n        elem.dataset.userconfigurablebundleRangeChoiceApi || \"\";\n    const component = (\n        <BundleGroupTable\n            bundleGroupURL={bundleGroupURL}\n            concreteBundleURL={concreteBundleURL}\n            concreteBundleProductChoiceURL={concreteBundleProductChoiceURL}\n            userConfigurableBundleURL={userConfigurableBundleURL}\n            userConfigurableBundleRangeChoiceURL={\n                userConfigurableBundleRangeChoiceURL\n            }\n        />\n    );\n    render(component, elem);\n};\n\nmain();\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t678: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) var result = runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkdjango_oscar_bundles\"] = self[\"webpackChunkdjango_oscar_bundles\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [736], function() { return __webpack_require__(2031); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"sourceRoot":""}
